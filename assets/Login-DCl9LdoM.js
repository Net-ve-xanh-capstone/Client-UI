import{r as u,a as k,u as S,j as e,L as o,c as C,b as D}from"./index-WK5Y_eAK.js";import{H as L}from"./HeaderVersion1-50UPQ9XT.js";import{u as T,a as F}from"./TooltipMenu-wa9Od0YY.js";import{c as V,a as x,u as I,T as g,o as M}from"./object-7XWPqBrU.js";import{d as q}from"./Close-PI5ZcNX5.js";import{I as z}from"./Paper-CbiWj1zl.js";import{D as B,a as E}from"./Dialog-B83dB0QA.js";import{F as H}from"./FadeLoader-CXc9vj2H.js";import{s as j}from"./Transition-Dd9lD4t4.js";import"./Tooltip-D9H17N7g.js";import"./index-Zr6dffOW.js";import"./createSvgIcon-Bfd-VzuJ.js";import"./createSvgIcon-D1Fl7GsO.js";import"./ButtonBase-BQ82lSln.js";const ae=()=>{var h,p;const[s,r]=u.useState(!1),f=V().shape({username:x().required("Vui lòng nhập username của bạn"),password:x().required("Vui lòng nhập mật khẩu của bạn")}),{handleSubmit:N,control:i,trigger:v,formState:{errors:n}}=I({resolver:M(f),reValidateMode:"onSubmit"}),{login:{loading:l,success:c,error:t},jwtToken:d}=k(a=>a.auth),b=T(),y=S(),w=async a=>{if(await v())b(D(a)).then(()=>{t&&r(!0)});else return},m=()=>{r(!1)};return u.useEffect(()=>{(c||d)&&y("/"),t&&r(!0)},[c,t,d]),e.jsxs("div",{children:[e.jsx(L,{}),e.jsxs("section",{className:"flat-title-page inner",children:[e.jsx("div",{className:"overlay"}),e.jsx("div",{className:"themesflat-container",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx("div",{className:"page-title-heading mg-bt-12",children:e.jsx("h1",{className:"heading text-center",children:"Đăng nhập"})}),e.jsx("div",{className:"breadcrumbs style2",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(o,{to:"/",children:"Trang chủ"})}),e.jsx("li",{children:"Đăng nhập"})]})})]})})})]}),e.jsxs(W,{onClose:m,"aria-labelledby":"customized-dialog-title",open:s,children:[e.jsx(z,{"aria-label":"close",onClick:m,sx:{position:"absolute",right:8,top:6,color:a=>a.palette.grey[500]},children:e.jsx(q,{})}),e.jsx(B,{children:e.jsx(O,{className:"h3 text-center",children:"Sai tài khoản hoặc mật khẩu, vui lòng nhập lại"})})]}),e.jsx("section",{className:"tf-login tf-section",children:e.jsx("div",{className:"themesflat-container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"flat-form box-login-email",children:e.jsx("div",{className:"form-inner",children:e.jsxs("form",{onSubmit:N(w),className:"select-none",children:[e.jsx(g,{control:i,error:(h=n.username)==null?void 0:h.message,id:"username",name:"username",tabIndex:"1",placeholder:"Tên tài khoản",autoFocus:!0}),e.jsx(g,{control:i,error:(p=n.password)==null?void 0:p.message,id:"password",name:"password",tabIndex:"2","aria-required":"true",type:"password",placeholder:"Mật khẩu"}),e.jsx("div",{className:"row-form style-1 flex-row-reverse",children:e.jsx(o,{to:"#",className:"forgot-pass",children:"Quên mật khẩu ?"})}),e.jsx("button",{className:"submit",children:l?e.jsx(H,{color:C.purple,loading:l,size:2}):"Đăng nhập"}),e.jsxs("div",{className:"mt-5 text-right h5",children:["Bạn chưa có tài khoản? ","",e.jsx(o,{to:"/sign-up",className:"font-weight-bold",children:"đăng ký"})]})]})})})})})})}),e.jsx(F,{})]})},W=j(E)(({theme:s})=>({"& .MuiDialogContent-root":{padding:s.spacing(5)}})),O=j("div")(({theme:s})=>({color:s.palette.text.primary,fontSize:14,fontWeight:s.typography.fontWeightMedium}));export{ae as default};
