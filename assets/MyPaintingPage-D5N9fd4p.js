import{r as n,a as M,j as s,L as d}from"./index-DakMCMxy.js";import{H as $}from"./HeaderVersion1-BN102pYe.js";import{a as z}from"./TooltipMenu-DPiyn6M0.js";import{A as U}from"./index-D_3g9p4-.js";import{T as W,a as q,b as L,c as k}from"./TabPanel-BVC8pvTH.js";/* empty css                   */import{D as v}from"./index-CiQH6JYZ.js";import{c as Y,a as J,u as K,o as Q,T as X}from"./object-YM9Ubk-c.js";import{u as E,m as Z}from"./useQueryData-Dd7Go6WS.js";import{a as R}from"./TextareaCommon-BemechPG.js";import{d as ss}from"./Close-NlN1KGv0.js";import{s as P}from"./Transition-C7trJszZ.js";import{a as es,D as as}from"./Dialog-BDVxe4hZ.js";import{M as D}from"./Modal-CMEcj7NB.js";import{I as ts}from"./Paper-Bm5FVBz4.js";import{L as u}from"./LoadingSkeleton-DvjmKuG_.js";import{f as is}from"./formatDate-CVnijxLC.js";import{G as ls}from"./Grid-Ba94N9uv.js";import"./Tooltip-DaEBL3hz.js";import"./index-BYiJNGAJ.js";import"./createSvgIcon-CjOQSQUz.js";import"./createSvgIcon-CEwyRCuz.js";import"./ButtonBase-Dr9aZzF_.js";import"./removeClass-D0mFdbeO.js";const ns="collections/getcollectionbyaccountid",cs="collections",rs=t=>{var S;const c=Y().shape({name:J().required("Vui lòng nhập tên của bộ sưu tập")}),{watch:g,formState:{errors:m},setValue:b,setError:o,control:h,reset:r,handleSubmit:x}=K({resolver:Q(c),reValidateMode:"onChange"}),[p,l]=n.useState(0),[e,j]=n.useState([]),[y,C]=n.useState(!1),[js,_]=n.useState(""),[O,T]=n.useState(""),w=M(a=>a.auth.userInfo),A=t.paintingId,F=(a,i="")=>g(a)||i,H=(a,i)=>{b(a,i.name),_(i.id),o(a,"")},I=()=>{C(!1)},B=a=>{const i={name:a.name,description:a.description,currentUserId:w.Id,listPaintingId:[A]};Z.create(cs,i).then(N=>{C(!0),N.status===200?T("Tạo bộ sưu tập thành công"):T("Tạo bộ sưu tập thất bại")})},V=()=>{t.onHide(),r()},{isLoading:G,isError:us,data:f,error:gs}=E(ns,w.Id);return n.useEffect(()=>{var i,N;const a=(i=f==null?void 0:f.data)==null?void 0:i.result;((N=a==null?void 0:a.list)==null?void 0:N.length)>0?(l(0),j(a==null?void 0:a.list)):l(1)},[f]),G?s.jsx("div",{children:"Loading"}):s.jsxs(D,{animation:!0,scrollable:!0,show:t.show,onHide:V,children:[s.jsx(D.Header,{closeButton:!0}),s.jsx("div",{className:"modal-body space-y-20 pd-40",style:{height:"500px"},children:s.jsx("div",{className:"flat-tabs themesflat-tabs",children:s.jsxs(W,{defaultIndex:p,children:[s.jsxs(q,{children:[s.jsx(L,{children:"Đã có bộ sưu tập"}),s.jsx(L,{children:"Chưa có bộ sưu tập"})]}),s.jsxs(k,{className:"mt-5",selected:!0,allowFullScreen:!0,children:[s.jsx("div",{id:"item-create",className:"dropdown mt-5",children:e&&e.length>0?s.jsxs("div",{children:[s.jsx("h3",{className:"mb-5",children:"Thêm vào bộ sưu tập"}),s.jsxs(v,{children:[s.jsx(v.Select,{placeholder:F("collection","Chọn collection của bạn")}),s.jsx(v.List,{children:e.map((a,i)=>s.jsx(v.Option,{onClick:()=>H("collection",a),children:a==null?void 0:a.name},i))})]}),s.jsx(d,{to:"#",className:"btn btn-primary mt-4","data-toggle":"modal","data-target":"#popup_bid_success","data-dismiss":"modal","aria-label":"Close",children:"Thêm"})]}):s.jsxs("div",{children:[s.jsx("h3",{children:"Bạn chưa có bộ sưu tập nào"}),s.jsx("div",{id:"item-create",className:"dropdown mt-5",children:s.jsx("h4",{className:"text-center",children:"Hãy tạo bộ sưu tập mới"})})]})}),s.jsx("div",{className:"hr"})]}),s.jsxs(k,{className:"mt-5",allowFullScreen:!0,children:[s.jsx("h3",{className:"mb-15",children:"Tạo bộ sưu tập mới"}),s.jsx(X,{control:h,error:(S=m.name)==null?void 0:S.message,id:"name",name:"name",tabIndex:"1",placeholder:"Nhập tên của bức tranh",className:"mb-15",autoFocus:!0}),s.jsx("div",{className:"hr"}),s.jsx(R,{control:h,id:"description",name:"description",tabIndex:"1",placeholder:"Nhập mô tả của bức tranh",className:"mb-15",autoFocus:!0}),s.jsx(d,{to:"#",className:"btn btn-primary mt-4","data-toggle":"modal","data-target":"#popup_bid_success","data-dismiss":"modal",onClick:x(B),"aria-label":"Close",children:"Thêm"}),s.jsxs(ds,{onClose:I,"aria-labelledby":"customized-dialog-title",open:y,children:[s.jsx(ts,{"aria-label":"close",onClick:I,sx:{position:"absolute",right:8,top:6,color:a=>a.palette.grey[500]},children:s.jsx(ss,{})}),s.jsx(as,{children:s.jsx(os,{className:"h3 text-center",children:O})})]})]})]})})})]})},ds=P(es)(({theme:t})=>({"& .MuiDialogContent-root":{padding:t.spacing(5)}})),os=P("div")(({theme:t})=>({color:t.palette.text.primary,fontSize:14,fontWeight:t.typography.fontWeightMedium})),hs=t=>{const c=t.data,g=t.loading,[m,b]=n.useState(6),[o,h]=n.useState(!1),[r,x]=n.useState(null),p=()=>{b(e=>e+6)},l=e=>{x(e),h(!0)};return s.jsx(n.Fragment,{children:g?s.jsx(ms,{}):s.jsxs("div",{children:[s.jsxs("div",{className:"explore",children:[s.jsx("div",{className:"box-epxlore justify-content-start",children:c.length>0?c.slice(0,m).map((e,j)=>s.jsxs("div",{className:`sc-card-product mr-4 explode style2 mg-bt ${e.feature?"comingsoon":""} `,children:[s.jsxs("div",{className:"card-media",children:[s.jsx(d,{onClick:()=>l(e.id),children:s.jsx("img",{src:e==null?void 0:e.image,alt:"tranh"})}),s.jsx("div",{className:"button-place-bid",children:s.jsx("button",{onClick:()=>l(e.id),className:"sc-button style-place-bid style fl-button pri-3",children:s.jsx("span",{children:"Thêm vào bộ sưu tập"})})})]}),s.jsx("div",{className:"card-title",children:s.jsx("h5",{children:s.jsx(d,{className:"cursor-none",to:"#",children:e==null?void 0:e.name})})}),s.jsxs("div",{className:"meta-info",style:{display:"flex",justifyContent:"space-around !important",alignItems:"center"},children:[s.jsx("div",{className:"author",children:s.jsxs("div",{className:"info",children:[s.jsx("span",{children:"Người vẽ"}),s.jsx("h6",{children:s.jsx(d,{className:"cursor-none",children:e==null?void 0:e.ownerName})})]})}),s.jsx("div",{className:"author",children:s.jsxs("div",{className:"info",children:[s.jsx("span",{children:"Thời gian nộp"}),s.jsx("h6",{children:s.jsx(d,{className:"cursor-none",children:is(e==null?void 0:e.submitTime)})})]})})]}),s.jsxs("div",{className:"card-bottom style-explode",children:[s.jsxs("div",{className:"price",children:[s.jsx("span",{children:"Tên chủ đề"}),s.jsx("div",{className:"price-details",children:s.jsx("h5",{children:e.topicName})})]}),s.jsxs("div",{className:"price",children:[s.jsx("span",{children:"Mô tả"}),s.jsx("div",{className:"price-details",children:s.jsx("h5",{children:e==null?void 0:e.description})})]})]})]},j)):s.jsx(ls,{ml:16,children:s.jsx("h2",{className:"centered-message-container",children:"Bạn chưa có tranh nào!"})})}),m<c.length&&s.jsx("div",{className:"btn-auction center",children:s.jsx(d,{to:"#",id:"load-more",className:"sc-button loadmore fl-button pri-3",onClick:p,children:s.jsx("span",{children:"Load More"})})})]}),s.jsx(rs,{paintingId:r,show:o,onHide:()=>h(!1)})]})})},ms=()=>s.jsx("div",{className:"explore",children:s.jsx("div",{className:"box-epxlore justify-content-start",children:Array(3).fill().map((t,c)=>s.jsxs("div",{className:"sc-card-product explode style2 mg-bt",children:[s.jsx("div",{className:"card-media",children:s.jsx(u,{width:"290px",height:"290px",radius:"16px"})}),s.jsx("div",{className:"card-title",children:s.jsx(u,{width:"100%",height:"30px",radius:"16px"})}),s.jsxs("div",{className:"meta-info",children:[s.jsxs("div",{className:"author",children:[s.jsx("div",{className:"avatar",children:s.jsx(u,{width:"40px",height:"40px",radius:"16px"})}),s.jsx("div",{className:"info",children:s.jsx(u,{width:"120px",height:"40px",radius:"16px"})})]}),s.jsx("div",{className:"tag",children:s.jsx(u,{width:"50px",height:"40px",radius:"16px"})})]}),s.jsx("div",{className:"card-bottom style-explode",children:s.jsx("div",{className:"price",children:s.jsx(u,{width:"132px",height:"45px",radius:"16px"})})})]},c))})}),xs=t=>{var x,p;const c=t.data,{userInfo:g}=M(l=>l.auth),{isLoading:m,isError:b,data:o,error:h}=E("paintings/listpaintingbyaccountid",`${g.Id}`),r=(p=(x=o==null?void 0:o.data)==null?void 0:x.result)==null?void 0:p.list;return b?s.jsxs("span",{children:["Error: ",h.message]}):s.jsx("section",{className:"tf-explore tf-section",children:s.jsx("div",{className:"themesflat-container",children:s.jsxs("div",{className:"row",children:[s.jsx("div",{className:"col-xl-3 col-lg-3 col-md-12",children:s.jsx("div",{id:"side-bar",className:"side-bar style-3",children:(r==null?void 0:r.length)>0?c.map((l,e)=>s.jsx("div",{className:"widget widget-category mgbt-24 boder-bt",children:s.jsx("div",{className:"content-wg-category",children:s.jsx(U,{title:l.title,show:!0,children:s.jsx("form",{action:"#",children:l.content.map((j,y)=>s.jsxs("div",{children:[s.jsxs("label",{children:[j.field,s.jsx("input",{type:"checkbox",defaultChecked:j.checked}),s.jsx("span",{className:"btn-checkbox"})]}),s.jsx("br",{})]},y))})})})},e)):null})}),s.jsx("div",{className:"col-xl-9 col-lg-9 col-md-12",children:s.jsx(hs,{data:r,loading:m})})]})})})},ps=[{id:1,title:"Collections",content:[{field:"Abstraction"},{field:"Patternlicious"},{field:"Skecthify"},{field:"Cartoonism"},{field:"Virtuland"},{field:"Papercut"}]}],$s=()=>s.jsxs("div",{children:[s.jsx($,{}),s.jsxs("section",{className:"flat-title-page inner",children:[s.jsx("div",{className:"overlay"}),s.jsx("div",{className:"themesflat-container",children:s.jsx("div",{className:"row",children:s.jsxs("div",{className:"col-md-12",children:[s.jsx("div",{className:"page-title-heading mg-bt-12",children:s.jsx("h1",{className:"heading text-center",children:"Tranh Của Tôi"})}),s.jsx("div",{className:"breadcrumbs style2",children:s.jsxs("ul",{children:[s.jsx("li",{children:s.jsx(d,{to:"/",children:"Trang chủ"})}),s.jsx("li",{children:"Tranh của tôi"})]})})]})})})]}),s.jsx(xs,{data:ps}),s.jsx(z,{})]});export{$s as default};
