import{d as E,g as F,e as k,u as Z,r as q,a as R,s as H,j as t,L as U,c as B,f as G}from"./index-0h_SDAPj.js";import{H as W}from"./HeaderVersion1-Be7KpaHc.js";import{u as _,a as A}from"./TooltipMenu-keG4s0O1.js";import{c as K,a as z,b as P,u as J,T as M,o as Q}from"./object-BuZwcCpF.js";import{r as Y,a as X,b as ee,D as te,R as ie}from"./Regex-2EqhfhDR.js";import{d as re}from"./Close-CE5CqoEj.js";import{G as h}from"./Grid-BwJzfc4q.js";import{I as se}from"./Paper-LxqktcM2.js";import{D as ae,a as ne}from"./Dialog-BLeOdvGK.js";import{F as oe}from"./FadeLoader-_pqAgPa_.js";import{s as V}from"./Transition-CCsBKYIx.js";import{F as le}from"./FormGroup-CfbNFbFd.js";import"./Tooltip-tzlMdmSY.js";import"./index-BCOSzsmT.js";import"./createSvgIcon-D7Ek13s2.js";import"./ButtonBase-D4LnX9Gn.js";import"./removeClass-D0mFdbeO.js";import"./createSvgIcon-Cbe3mCm4.js";var L={exports:{}};(function(v,C){(function(D,j){v.exports=j()})(E,function(){var D="minute",j=/[+-]\d\d(?::?\d\d)?/g,b=/([+-]|\d\d)/g;return function(w,l,d){var s=l.prototype;d.utc=function(e){var r={date:e,utc:!0,args:arguments};return new l(r)},s.utc=function(e){var r=d(this.toDate(),{locale:this.$L,utc:!0});return e?r.add(this.utcOffset(),D):r},s.local=function(){return d(this.toDate(),{locale:this.$L,utc:!1})};var S=s.parse;s.parse=function(e){e.utc&&(this.$u=!0),this.$utils().u(e.$offset)||(this.$offset=e.$offset),S.call(this,e)};var T=s.init;s.init=function(){if(this.$u){var e=this.$d;this.$y=e.getUTCFullYear(),this.$M=e.getUTCMonth(),this.$D=e.getUTCDate(),this.$W=e.getUTCDay(),this.$H=e.getUTCHours(),this.$m=e.getUTCMinutes(),this.$s=e.getUTCSeconds(),this.$ms=e.getUTCMilliseconds()}else T.call(this)};var O=s.utcOffset;s.utcOffset=function(e,r){var u=this.$utils().u;if(u(e))return this.$u?0:u(this.$offset)?O.call(this):this.$offset;if(typeof e=="string"&&(e=function(m){m===void 0&&(m="");var $=m.match(j);if(!$)return null;var g=(""+$[0]).match(b)||["-",0,0],y=g[0],x=60*+g[1]+ +g[2];return x===0?0:y==="+"?x:-x}(e),e===null))return this;var a=Math.abs(e)<=16?60*e:e,o=this;if(r)return o.$offset=a,o.$u=e===0,o;if(e!==0){var f=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(o=this.local().add(a+f,D)).$offset=a,o.$x.$localOffset=f}else o=this.utc();return o};var i=s.format;s.format=function(e){var r=e||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return i.call(this,r)},s.valueOf=function(){var e=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*e},s.isUTC=function(){return!!this.$u},s.toISOString=function(){return this.toDate().toISOString()},s.toString=function(){return this.toDate().toUTCString()};var c=s.toDate;s.toDate=function(e){return e==="s"&&this.$offset?d(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():c.call(this)};var n=s.diff;s.diff=function(e,r,u){if(e&&this.$u===e.$u)return n.call(this,e,r,u);var a=this.local(),o=d(e).local();return n.call(a,o,r,u)}}})})(L);var ce=L.exports;const ue=F(ce);var I={exports:{}};(function(v,C){(function(D,j){v.exports=j()})(E,function(){var D={year:0,month:1,day:2,hour:3,minute:4,second:5},j={};return function(b,w,l){var d,s=function(i,c,n){n===void 0&&(n={});var e=new Date(i),r=function(u,a){a===void 0&&(a={});var o=a.timeZoneName||"short",f=u+"|"+o,m=j[f];return m||(m=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:u,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:o}),j[f]=m),m}(c,n);return r.formatToParts(e)},S=function(i,c){for(var n=s(i,c),e=[],r=0;r<n.length;r+=1){var u=n[r],a=u.type,o=u.value,f=D[a];f>=0&&(e[f]=parseInt(o,10))}var m=e[3],$=m===24?0:m,g=e[0]+"-"+e[1]+"-"+e[2]+" "+$+":"+e[4]+":"+e[5]+":000",y=+i;return(l.utc(g).valueOf()-(y-=y%1e3))/6e4},T=w.prototype;T.tz=function(i,c){i===void 0&&(i=d);var n=this.utcOffset(),e=this.toDate(),r=e.toLocaleString("en-US",{timeZone:i}),u=Math.round((e-new Date(r))/1e3/60),a=l(r,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(e.getTimezoneOffset()/15)-u,!0);if(c){var o=a.utcOffset();a=a.add(n-o,"minute")}return a.$x.$timezone=i,a},T.offsetName=function(i){var c=this.$x.$timezone||l.tz.guess(),n=s(this.valueOf(),c,{timeZoneName:i}).find(function(e){return e.type.toLowerCase()==="timezonename"});return n&&n.value};var O=T.startOf;T.startOf=function(i,c){if(!this.$x||!this.$x.$timezone)return O.call(this,i,c);var n=l(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return O.call(n,i,c).tz(this.$x.$timezone,!0)},l.tz=function(i,c,n){var e=n&&c,r=n||c||d,u=S(+l(),r);if(typeof i!="string")return l(i).tz(r);var a=function($,g,y){var x=$-60*g*1e3,N=S(x,y);if(g===N)return[x,g];var p=S(x-=60*(N-g)*1e3,y);return N===p?[x,N]:[$-60*Math.min(N,p)*1e3,Math.max(N,p)]}(l.utc(i,e).valueOf(),u,r),o=a[0],f=a[1],m=l(o).utcOffset(f);return m.$x.$timezone=r,m},l.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},l.tz.setDefault=function(i){d=i}}})})(I);var me=I.exports;const he=F(me),qe=()=>{var o,f,m,$,g,y,x,N;k.extend(ue),k.extend(he),k.tz.setDefault("Asia/Ho_Chi_Minh");const v=k(new Date),C=_(),D=Z(),[j,b]=q.useState(!1),w=()=>{b(!1)},{register:{success:l,message:d,loading:s},jwtToken:S}=R(p=>p.auth),T=K().shape({lastname:z().required("Vui lòng nhập Họ của bạn").matches(Y,"Họ không hợp lệ"),firstname:z().required("Vui lòng nhập Tên của bạn").matches(Y,"Tên không hợp lệ"),email:z().matches(X,"Email không hợp lệ").required("Vui lòng nhập email của bạn"),phone:z().matches(ee,"Số điện thoại không hợp lệ").required("Vui lòng nhập số điện thoại của bạn"),userName:z().required("Vui lòng nhập tên tài khoản của bạn"),password:z().required("Vui lòng nhập mật khẩu của bạn"),gender:P().required("Vui lòng chọn giới tính").typeError("Vui lòng chọn giới tính"),birthday:z().required("Vui lòng chọn ngày sinh").typeError("Vui lòng chọn ngày sinh")}),{handleSubmit:O,control:i,trigger:c,setValue:n,formState:{errors:e}}=J({resolver:Q(T),reValidateMode:"onSubmit"});n("gender",0),q.useEffect(()=>(S&&D("/"),l!==null&&(b(!0),setTimeout(()=>{b(!1),C(H())},3e3)),l&&setTimeout(()=>{b(!1),C(H()),D("/login")},3e3),()=>{clearTimeout()}),[l]);const r=async p=>{if(await c())await C(G(p)).then(()=>{d&&b(!0)});else return},u=p=>{(p.key==="-"||p.key==="+")&&p.preventDefault()},a=[{value:"0",label:"Nam"},{value:"1",label:"Nữ"}];return t.jsxs("div",{children:[t.jsx(W,{}),t.jsxs("section",{className:"flat-title-page inner",children:[t.jsx("div",{className:"overlay"}),t.jsx("div",{className:"themesflat-container",children:t.jsx("div",{className:"row",children:t.jsxs("div",{className:"col-md-12",children:[t.jsx("div",{className:"page-title-heading mg-bt-12",children:t.jsx("h1",{className:"heading text-center",children:"Đăng ký"})}),t.jsx("div",{className:"breadcrumbs style2",children:t.jsxs("ul",{children:[t.jsx("li",{children:t.jsx(U,{to:"/",children:"Trang chủ"})}),t.jsx("li",{children:"Đăng ký"})]})})]})})})]}),t.jsx("section",{className:"tf-login tf-section",children:t.jsx("div",{className:"themesflat-container",children:t.jsx("div",{className:"row",children:t.jsx("div",{className:"col-12",children:t.jsx("div",{className:"flat-form box-login-email",children:t.jsx("div",{className:"form-inner",children:t.jsxs("form",{action:"#",id:"contactform",className:"select-none",onSubmit:O(r),children:[t.jsxs(h,{container:!0,spacing:4,children:[t.jsx(h,{item:!0,md:6,children:t.jsx(M,{control:i,error:(o=e.lastname)==null?void 0:o.message,id:"lastname",name:"lastname","aria-required":"true",type:"text",placeholder:"Họ"})}),t.jsx(h,{item:!0,md:6,children:t.jsx(M,{control:i,error:(f=e.firstname)==null?void 0:f.message,id:"firstname",name:"firstname","aria-required":"true",type:"text",placeholder:"Tên"})})]}),t.jsxs(h,{sx:{marginTop:"-10px",marginBottom:"24px"},container:!0,spacing:2,children:[t.jsxs(h,{item:!0,md:6,children:[t.jsx("p",{className:"font-weight-bold h5",children:"Ngày sinh"}),t.jsx(te,{defaultValue:v,control:i,error:(m=e.birthday)==null?void 0:m.message,name:"birthday"})]}),t.jsxs(h,{item:!0,md:6,children:[t.jsx("p",{className:"font-weight-bold h5",children:"Giới tính"}),t.jsx(ie,{control:i,error:($=e==null?void 0:e.gender)==null?void 0:$.message,name:"gender",valueArray:a})]})]}),t.jsxs(h,{container:!0,spacing:2,children:[t.jsx(h,{item:!0,md:6,children:t.jsx(M,{control:i,error:(g=e.email)==null?void 0:g.message,id:"email",name:"email","aria-required":"true",type:"email",placeholder:"Email"})}),t.jsx(h,{item:!0,md:6,children:t.jsx(M,{control:i,error:(y=e.phone)==null?void 0:y.message,id:"phone",name:"phone","aria-required":"true",type:"number",placeholder:"Số điện thoại",className:"number",onKeyDown:u})}),t.jsx(h,{item:!0,md:3})]}),t.jsx(h,{sx:{marginBottom:"12px"},container:!0,children:t.jsx(h,{item:!0,md:12,children:t.jsx(M,{control:i,error:(x=e.userName)==null?void 0:x.message,id:"userName",name:"userName","aria-required":"true",type:"text",placeholder:"Tên tài khoản"})})}),t.jsx(h,{container:!0,children:t.jsx(h,{item:!0,md:12,children:t.jsx(M,{control:i,id:"password",error:(N=e.password)==null?void 0:N.message,name:"password","aria-required":"true",type:"password",placeholder:"Mật khẩu"})})}),t.jsxs(de,{onClose:w,"aria-labelledby":"customized-dialog-title",open:j,children:[t.jsx(se,{"aria-label":"close",onClick:w,sx:{position:"absolute",right:8,top:6,color:p=>p.palette.grey[500]},children:t.jsx(re,{})}),t.jsx(ae,{children:t.jsx(fe,{className:"h3 text-center",children:d||""})})]}),t.jsx("button",{className:"submit",children:s?t.jsx(oe,{color:B.purple,loading:s,size:2}):"Đăng ký"}),t.jsxs("div",{className:"mt-5 text-right h5",children:["Bạn đã có tài khoản? ","",t.jsx(U,{to:"/login",className:"font-weight-bold",children:"đăng nhập"})]})]})})})})})})}),t.jsx(A,{})]})};V(le)({"& .MuiSvgIcon-root":{fontSize:24},"& .MuiTypography-root":{fontSize:16,fontFamily:"REM"}});const de=V(ne)(({theme:v})=>({"& .MuiDialogContent-root":{padding:v.spacing(5)}})),fe=V("div")(({theme:v})=>({color:v.palette.text.primary,fontSize:14,fontWeight:v.typography.fontWeightMedium}));export{qe as default};
