import{r as g,o as f,p as D,q as F,a as L,j as e,L as i,I,s as T,T as j,c as V,g as q,t as v,v as M}from"./index-9ilz_A28.js";import{H as z}from"./HeaderVersion1-DguBh8-f.js";import{c as B,a as N,o as E}from"./object-SiOIatwC.js";import{D as H,a as W}from"./DialogContent-D5qgA65-.js";import{F as G}from"./FadeLoader-dmow-GEO.js";const J=()=>{var u,p;const[a,t]=g.useState(!1),{userInfo:b}=f(s=>s.auth),w=B().shape({username:N().required("Vui lòng nhập username của bạn"),password:N().required("Vui lòng nhập mật khẩu của bạn")}),{handleSubmit:y,control:o,trigger:k,reset:n,formState:{errors:l}}=D({resolver:E(w),reValidateMode:"onSubmit"}),{login:{loading:c,success:d,error:r},jwtToken:m}=f(s=>s.auth),S=F(),h=L(),C=async s=>{if(await k())S(M(s)).then(()=>{r&&t(!0)});else return},x=()=>{t(!1)};return g.useEffect(()=>{(d||m)&&(b.role==="Staff"?(n(),h("/staff-management/contest")):(n(),h("/"))),r&&t(!0)},[d,r,m]),e.jsxs("div",{children:[e.jsx(z,{}),e.jsxs("section",{className:"flat-title-page inner",children:[e.jsx("div",{className:"overlay"}),e.jsx("div",{className:"themesflat-container",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx("div",{className:"page-title-heading mg-bt-12",children:e.jsx("h1",{className:"heading text-center",children:"ĐĂNG NHẬP"})}),e.jsx("div",{className:"breadcrumbs style2",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(i,{to:"/",children:"Trang chủ"})}),e.jsx("li",{children:"Đăng nhập"})]})})]})})})]}),e.jsxs(O,{onClose:x,"aria-labelledby":"customized-dialog-title",open:a,children:[e.jsx(I,{"aria-label":"close",onClick:x,sx:{position:"absolute",right:8,top:6,color:s=>s.palette.grey[500]},children:e.jsx(T,{})}),e.jsx(H,{children:e.jsx("div",{className:"space-y-20 pd-40",children:e.jsx("h4",{className:"text-center font-weight-bold",children:"Sai tài khoản hoặc mật khẩu, xin nhập lại"})})})]}),e.jsx("section",{className:"tf-login tf-section",children:e.jsx("div",{className:"themesflat-container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"flat-form box-login-email",children:e.jsx("div",{className:"form-inner",children:e.jsxs("form",{onSubmit:y(C),className:"select-none",children:[e.jsx(j,{control:o,error:(u=l.username)==null?void 0:u.message,id:"username",name:"username",tabIndex:"1",placeholder:"Tên tài khoản",autoFocus:!0}),e.jsx(j,{control:o,error:(p=l.password)==null?void 0:p.message,id:"password",name:"password",tabIndex:"2","aria-required":"true",type:"password",placeholder:"Mật khẩu"}),e.jsx("div",{className:"row-form style-1 flex-row-reverse",children:e.jsx(i,{to:"#",className:"forgot-pass",children:"Quên mật khẩu ?"})}),e.jsx("button",{className:"submit",children:c?e.jsx(G,{color:V.purple,loading:c,size:2}):"Đăng nhập"}),e.jsxs("div",{className:"mt-5 text-right h5",children:["Bạn chưa có tài khoản? ","",e.jsx(i,{to:"/sign-up",className:"font-weight-bold",children:"đăng ký"})]})]})})})})})})}),e.jsx(q,{})]})},O=v(W)(({theme:a})=>({"& .MuiDialogContent-root":{padding:a.spacing(5)}}));v("div")(({theme:a})=>({color:a.palette.text.primary,fontSize:14,fontWeight:a.typography.fontWeightMedium}));export{J as default};
