import{r as u,b as k,c as S,u as C,j as e,L as o,d as D,a as L,s as j,e as T}from"./index-nXpVkrqw.js";import{H as F}from"./HeaderVersion1-SG--MduN.js";import{c as V,a as x,u as I,T as g,o as M}from"./object-tt7Org6L.js";import{d as q}from"./Close-BfNnh5SK.js";import{I as z}from"./Modal-BIgUMiS2.js";import{D as B,a as E}from"./DialogContent-cn1nfkQO.js";import{F as H}from"./FadeLoader-AktnTYJg.js";import"./index-B1IwlOKI.js";import"./createSvgIcon-qgSPg1vi.js";import"./createSvgIcon-idrbr4dA.js";import"./ButtonBase-YFnu1XJZ.js";const Z=()=>{var h,p;const[s,t]=u.useState(!1),f=V().shape({username:x().required("Vui lòng nhập username của bạn"),password:x().required("Vui lòng nhập mật khẩu của bạn")}),{handleSubmit:N,control:i,trigger:v,formState:{errors:n}}=I({resolver:M(f),reValidateMode:"onSubmit"}),{login:{loading:l,success:c,error:r},jwtToken:d}=k(a=>a.auth),b=S(),y=C(),w=async a=>{if(await v())b(T(a)).then(()=>{r&&t(!0)});else return},m=()=>{t(!1)};return u.useEffect(()=>{(c||d)&&y("/"),r&&t(!0)},[c,r,d]),e.jsxs("div",{children:[e.jsx(F,{}),e.jsxs("section",{className:"flat-title-page inner",children:[e.jsx("div",{className:"overlay"}),e.jsx("div",{className:"themesflat-container",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx("div",{className:"page-title-heading mg-bt-12",children:e.jsx("h1",{className:"heading text-center",children:"Đăng nhập"})}),e.jsx("div",{className:"breadcrumbs style2",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(o,{to:"/",children:"Trang chủ"})}),e.jsx("li",{children:"Đăng nhập"})]})})]})})})]}),e.jsxs(W,{onClose:m,"aria-labelledby":"customized-dialog-title",open:s,children:[e.jsx(z,{"aria-label":"close",onClick:m,sx:{position:"absolute",right:8,top:6,color:a=>a.palette.grey[500]},children:e.jsx(q,{})}),e.jsx(B,{children:e.jsx(O,{className:"h3 text-center",children:"Sai tài khoản hoặc mật khẩu, vui lòng nhập lại"})})]}),e.jsx("section",{className:"tf-login tf-section",children:e.jsx("div",{className:"themesflat-container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"flat-form box-login-email",children:e.jsx("div",{className:"form-inner",children:e.jsxs("form",{onSubmit:N(w),className:"select-none",children:[e.jsx(g,{control:i,error:(h=n.username)==null?void 0:h.message,id:"username",name:"username",tabIndex:"1",placeholder:"Tên tài khoản",autoFocus:!0}),e.jsx(g,{control:i,error:(p=n.password)==null?void 0:p.message,id:"password",name:"password",tabIndex:"2","aria-required":"true",type:"password",placeholder:"Mật khẩu"}),e.jsx("div",{className:"row-form style-1 flex-row-reverse",children:e.jsx(o,{to:"#",className:"forgot-pass",children:"Quên mật khẩu ?"})}),e.jsx("button",{className:"submit",children:l?e.jsx(H,{color:D.purple,loading:l,size:2}):"Đăng nhập"}),e.jsxs("div",{className:"mt-5 text-right h5",children:["Bạn chưa có tài khoản? ","",e.jsx(o,{to:"/sign-up",className:"font-weight-bold",children:"đăng ký"})]})]})})})})})})}),e.jsx(L,{})]})},W=j(E)(({theme:s})=>({"& .MuiDialogContent-root":{padding:s.spacing(5)}})),O=j("div")(({theme:s})=>({color:s.palette.text.primary,fontSize:14,fontWeight:s.typography.fontWeightMedium}));export{Z as default};
