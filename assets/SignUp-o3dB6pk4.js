import{x as K,y as W,z as H,q as J,a as Q,r as B,o as X,p as ee,A as R,j as e,L as G,G as d,T as O,I as te,s as se,c as re,g as ne,t as E,B as ae,C as ie}from"./index-_WVI0nkO.js";import{H as oe}from"./HeaderVersion1-CQqQ4f7Y.js";import{c as le,a as C,b as ce,o as ue}from"./object-CrRHpK-x.js";import{r as A,a as de,b as he,D as me,R as fe}from"./Regex-BoH-cJiB.js";import{D as S}from"./index-BTwgy2zo.js";import{D as ge,a as xe}from"./DialogContent-DcrxpcUY.js";import{F as pe}from"./FadeLoader-BKfSXUXU.js";var _={exports:{}};(function(j,k){(function(N,$){j.exports=$()})(K,function(){var N="minute",$=/[+-]\d\d(?::?\d\d)?/g,b=/([+-]|\d\d)/g;return function(q,u,f){var i=u.prototype;f.utc=function(t){var a={date:t,utc:!0,args:arguments};return new u(a)},i.utc=function(t){var a=f(this.toDate(),{locale:this.$L,utc:!0});return t?a.add(this.utcOffset(),N):a},i.local=function(){return f(this.toDate(),{locale:this.$L,utc:!1})};var T=i.parse;i.parse=function(t){t.utc&&(this.$u=!0),this.$utils().u(t.$offset)||(this.$offset=t.$offset),T.call(this,t)};var w=i.init;i.init=function(){if(this.$u){var t=this.$d;this.$y=t.getUTCFullYear(),this.$M=t.getUTCMonth(),this.$D=t.getUTCDate(),this.$W=t.getUTCDay(),this.$H=t.getUTCHours(),this.$m=t.getUTCMinutes(),this.$s=t.getUTCSeconds(),this.$ms=t.getUTCMilliseconds()}else w.call(this)};var z=i.utcOffset;i.utcOffset=function(t,a){var s=this.$utils().u;if(s(t))return this.$u?0:s(this.$offset)?z.call(this):this.$offset;if(typeof t=="string"&&(t=function(m){m===void 0&&(m="");var p=m.match($);if(!p)return null;var x=(""+p[0]).match(b)||["-",0,0],y=x[0],v=60*+x[1]+ +x[2];return v===0?0:y==="+"?v:-v}(t),t===null))return this;var l=Math.abs(t)<=16?60*t:t,c=this;if(a)return c.$offset=l,c.$u=t===0,c;if(t!==0){var g=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();(c=this.local().add(l+g,N)).$offset=l,c.$x.$localOffset=g}else c=this.utc();return c};var r=i.format;i.format=function(t){var a=t||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return r.call(this,a)},i.valueOf=function(){var t=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*t},i.isUTC=function(){return!!this.$u},i.toISOString=function(){return this.toDate().toISOString()},i.toString=function(){return this.toDate().toUTCString()};var h=i.toDate;i.toDate=function(t){return t==="s"&&this.$offset?f(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():h.call(this)};var o=i.diff;i.diff=function(t,a,s){if(t&&this.$u===t.$u)return o.call(this,t,a,s);var l=this.local(),c=f(t).local();return o.call(l,c,a,s)}}})})(_);var ve=_.exports;const je=W(ve);var P={exports:{}};(function(j,k){(function(N,$){j.exports=$()})(K,function(){var N={year:0,month:1,day:2,hour:3,minute:4,second:5},$={};return function(b,q,u){var f,i=function(r,h,o){o===void 0&&(o={});var t=new Date(r),a=function(s,l){l===void 0&&(l={});var c=l.timeZoneName||"short",g=s+"|"+c,m=$[g];return m||(m=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:s,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZoneName:c}),$[g]=m),m}(h,o);return a.formatToParts(t)},T=function(r,h){for(var o=i(r,h),t=[],a=0;a<o.length;a+=1){var s=o[a],l=s.type,c=s.value,g=N[l];g>=0&&(t[g]=parseInt(c,10))}var m=t[3],p=m===24?0:m,x=t[0]+"-"+t[1]+"-"+t[2]+" "+p+":"+t[4]+":"+t[5]+":000",y=+r;return(u.utc(x).valueOf()-(y-=y%1e3))/6e4},w=q.prototype;w.tz=function(r,h){r===void 0&&(r=f);var o=this.utcOffset(),t=this.toDate(),a=t.toLocaleString("en-US",{timeZone:r}),s=Math.round((t-new Date(a))/1e3/60),l=u(a,{locale:this.$L}).$set("millisecond",this.$ms).utcOffset(15*-Math.round(t.getTimezoneOffset()/15)-s,!0);if(h){var c=l.utcOffset();l=l.add(o-c,"minute")}return l.$x.$timezone=r,l},w.offsetName=function(r){var h=this.$x.$timezone||u.tz.guess(),o=i(this.valueOf(),h,{timeZoneName:r}).find(function(t){return t.type.toLowerCase()==="timezonename"});return o&&o.value};var z=w.startOf;w.startOf=function(r,h){if(!this.$x||!this.$x.$timezone)return z.call(this,r,h);var o=u(this.format("YYYY-MM-DD HH:mm:ss:SSS"),{locale:this.$L});return z.call(o,r,h).tz(this.$x.$timezone,!0)},u.tz=function(r,h,o){var t=o&&h,a=o||h||f,s=T(+u(),a);if(typeof r!="string")return u(r).tz(a);var l=function(p,x,y){var v=p-60*x*1e3,D=T(v,y);if(x===D)return[v,x];var M=T(v-=60*(D-x)*1e3,y);return D===M?[v,D]:[p-60*Math.min(D,M)*1e3,Math.max(D,M)]}(u.utc(r,t).valueOf(),s,a),c=l[0],g=l[1],m=u(c).utcOffset(g);return m.$x.$timezone=a,m},u.tz.guess=function(){return Intl.DateTimeFormat().resolvedOptions().timeZone},u.tz.setDefault=function(r){f=r}}})})(P);var $e=P.exports;const ye=W($e),Me=()=>{var x,y,v,D,M,F,U,Y,L,I,Z;H.extend(je),H.extend(ye),H.tz.setDefault("Asia/Ho_Chi_Minh");const j=H(new Date),k=J(),N=Q(),[$,b]=B.useState(!1),q=()=>{b(!1)},{register:{success:u,message:f,loading:i},jwtToken:T}=X(n=>n.auth),w=le().shape({lastname:C().required("Vui lòng nhập Họ của bạn").matches(A,"Họ không hợp lệ"),firstname:C().required("Vui lòng nhập Tên của bạn").matches(A,"Tên không hợp lệ"),email:C().matches(de,"Email không hợp lệ").required("Vui lòng nhập email của bạn"),phone:C().matches(he,"Số điện thoại không hợp lệ").required("Vui lòng nhập số điện thoại của bạn"),userName:C().required("Vui lòng nhập tên tài khoản của bạn"),password:C().required("Vui lòng nhập mật khẩu của bạn"),gender:ce().required("Vui lòng chọn giới tính").typeError("Vui lòng chọn giới tính"),birthday:C().required("Vui lòng chọn ngày sinh").typeError("Vui lòng chọn ngày sinh")}),{handleSubmit:z,control:r,trigger:h,setValue:o,setError:t,watch:a,formState:{errors:s}}=ee({resolver:ue(w),reValidateMode:"onSubmit"});o("gender",0),B.useEffect(()=>(T&&N("/"),u!==null&&(b(!0),setTimeout(()=>{b(!1),k(R())},3e3)),u&&setTimeout(()=>{b(!1),k(R()),N("/login")},3e3),()=>{clearTimeout()}),[u]);const l=async n=>{if(await h())await k(ie(n)).then(()=>{f&&b(!0)});else return},c=n=>{(n.key==="-"||n.key==="+")&&n.preventDefault()},g=(n,V="")=>a(n)||V,m=(n,V)=>{o(n,V.name),t(n,"")},p=[{value:"0",label:"Nam"},{value:"1",label:"Nữ"}];return e.jsxs("div",{children:[e.jsx(oe,{}),e.jsxs("section",{className:"flat-title-page inner",children:[e.jsx("div",{className:"overlay"}),e.jsx("div",{className:"themesflat-container",children:e.jsx("div",{className:"row",children:e.jsxs("div",{className:"col-md-12",children:[e.jsx("div",{className:"page-title-heading mg-bt-12",children:e.jsx("h1",{className:"heading text-center",children:"ĐĂNG KÝ"})}),e.jsx("div",{className:"breadcrumbs style2",children:e.jsxs("ul",{children:[e.jsx("li",{children:e.jsx(G,{to:"/",children:"Trang chủ"})}),e.jsx("li",{children:"Đăng ký"})]})})]})})})]}),e.jsx("section",{className:"tf-login tf-section",children:e.jsx("div",{className:"themesflat-container",children:e.jsx("div",{className:"row",children:e.jsx("div",{className:"col-12",children:e.jsx("div",{className:"flat-form box-login-email",children:e.jsx("div",{className:"form-inner",children:e.jsxs("form",{action:"#",id:"contactform",className:"select-none",onSubmit:z(l),children:[e.jsxs(d,{container:!0,spacing:4,children:[e.jsx(d,{item:!0,md:6,children:e.jsx(O,{control:r,error:(x=s.lastname)==null?void 0:x.message,id:"lastname",name:"lastname","aria-required":"true",type:"text",placeholder:"Họ"})}),e.jsx(d,{item:!0,md:6,children:e.jsx(O,{control:r,error:(y=s.firstname)==null?void 0:y.message,id:"firstname",name:"firstname","aria-required":"true",type:"text",placeholder:"Tên"})})]}),e.jsxs(d,{sx:{marginTop:"-10px",marginBottom:"24px"},container:!0,spacing:2,children:[e.jsxs(d,{item:!0,md:6,children:[e.jsx("p",{className:"font-weight-bold h5",children:"Ngày sinh"}),e.jsx(me,{defaultValue:j,control:r,error:(v=s.birthday)==null?void 0:v.message,name:"birthday"})]}),e.jsxs(d,{item:!0,md:6,children:[e.jsx("p",{className:"font-weight-bold h5",children:"Giới tính"}),e.jsx(fe,{control:r,error:(D=s==null?void 0:s.gender)==null?void 0:D.message,name:"gender",valueArray:p})]})]}),e.jsxs(d,{container:!0,spacing:2,children:[e.jsx(d,{item:!0,md:6,children:e.jsx(O,{control:r,error:(M=s.email)==null?void 0:M.message,id:"email",name:"email","aria-required":"true",type:"email",placeholder:"Email"})}),e.jsx(d,{item:!0,md:6,children:e.jsx(O,{control:r,error:(F=s.phone)==null?void 0:F.message,id:"phone",name:"phone","aria-required":"true",type:"number",placeholder:"Số điện thoại",className:"number",onKeyDown:c})}),e.jsx(d,{item:!0,md:3})]}),e.jsx(d,{sx:{marginBottom:"12px"},container:!0,children:e.jsx(d,{item:!0,md:12,children:e.jsx(O,{control:r,error:(U=s.userName)==null?void 0:U.message,id:"userName",name:"userName","aria-required":"true",type:"text",placeholder:"Tên tài khoản"})})}),e.jsx(d,{container:!0,children:e.jsx(d,{item:!0,md:12,children:e.jsx(O,{control:r,id:"password",error:(Y=s.password)==null?void 0:Y.message,name:"password","aria-required":"true",type:"password",placeholder:"Mật khẩu"})})}),e.jsx(d,{container:!0,children:e.jsx(d,{item:!0,md:12,children:e.jsxs("div",{className:"flex align-items-start mb-15",children:[e.jsx("div",{className:"inner-row-form style-2 w-50 mr-5",children:e.jsxs("div",{id:"item-create",className:"dropdown",children:[s.district&&e.jsx("span",{className:"text-danger h5",children:s.district.message}),e.jsxs(S,{errors:(L=s.district)==null?void 0:L.message,children:[e.jsx(S.Select,{placeholder:g("district","Chọn quận")}),e.jsx(S.List,{children:p.map(n=>e.jsx(S.Option,{onClick:()=>m("topic",n),children:n==null?void 0:n.name},n==null?void 0:n.name))})]})]})}),e.jsx("div",{className:"inner-row-form style-2 w-50",children:e.jsxs("div",{id:"item-create",className:"dropdown",children:[s.ward&&e.jsx("span",{className:"text-danger h5",children:s.ward.message}),e.jsxs(S,{errors:(I=s.ward)==null?void 0:I.message,children:[e.jsx(S.Select,{placeholder:g("ward","Chọn phường")}),e.jsx(S.List,{children:p.map(n=>e.jsx(S.Option,{onClick:()=>m("topic",n),children:n==null?void 0:n.name},n==null?void 0:n.name))})]})]})})]})})}),e.jsx(d,{container:!0,children:e.jsx(d,{item:!0,md:12,children:e.jsx(O,{control:r,error:(Z=s.adress)==null?void 0:Z.message,id:"adress",name:"adress",placeholder:"Nhập địa chỉ cụ thể như số nhà, tên đường, trường, lớp, ....",className:"mb-15 mt-3",autoFocus:!0})})}),e.jsxs(Ne,{onClose:q,"aria-labelledby":"customized-dialog-title",open:$,children:[e.jsx(te,{"aria-label":"close",onClick:q,sx:{position:"absolute",right:8,top:6,color:n=>n.palette.grey[500]},children:e.jsx(se,{})}),e.jsx(ge,{children:e.jsx("div",{className:"space-y-20 pd-40",children:e.jsx("h4",{className:"text-center font-weight-bold",children:f||""})})})]}),e.jsx("button",{className:"submit",children:i?e.jsx(pe,{color:re.purple,loading:i,size:2}):"Đăng ký"}),e.jsxs("div",{className:"mt-5 text-right h5",children:["Bạn đã có tài khoản? ","",e.jsx(G,{to:"/login",className:"font-weight-bold",children:"đăng nhập"})]})]})})})})})})}),e.jsx(ne,{})]})};E(ae)({"& .MuiSvgIcon-root":{fontSize:24},"& .MuiTypography-root":{fontSize:16,fontFamily:"REM"}});const Ne=E(xe)(({theme:j})=>({"& .MuiDialogContent-root":{padding:j.spacing(5)}}));E("div")(({theme:j})=>({color:j.palette.text.primary,fontSize:14,fontWeight:j.typography.fontWeightMedium}));export{Me as default};
